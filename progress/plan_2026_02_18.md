# Mind Map Implementation Plan (Refined)

## Issues to Fix

1.  **TypeScript Error**: `label` property missing in Action definition.
2.  **TypeScript Error**: `startArrowhead` invalid in `newLinearElement`.
3.  **Visuals**: Arrows look straight/ugly. Need curved arrows (`newArrowElement` + `roundness`).

## Action Plan

### 1. Update `packages/excalidraw/actions/actionMindMap.ts`

- **Imports**:

  - Add `newArrowElement` from `@excalidraw/element`.
  - Add `ROUNDNESS` from `@excalidraw/common`.
  - Ensure `LocalPoint` is imported.

- **Action Definitions**:

  - Add `label: "Add child node"` to `actionAddMindMapChild`.
  - Add `label: "Add sibling node"` to `actionAddMindMapSibling`.

- **Logic Updates**:
  - Replace `newLinearElement` with `newArrowElement`.
  - In `newArrowElement` options:
    - Set `roundness: { type: ROUNDNESS.PROPORTIONAL_RADIUS }` (for curved lines).
    - Keep `startArrowhead: null` and `endArrowhead: null` (or maybe `arrow` for end?). Mind maps usually have plain lines or subtle arrows. Standard Miro is plain lines or small arrows. I'll stick to `null` for now (lines) or `triangle` if requested later.
    - Ensure `points` are cast to `LocalPoint[]`.

### 2. Verify

- Compiles without errors.
- "Tab" creates a child with a curved line.
- "Enter" creates a sibling with a curved line connecting to the parent.

## Dependencies

- `@excalidraw/element`
- `@excalidraw/common`
